version: '3'
services:
  # provisioner-ms:
  #   build:
  #     context: ./provisioner-ms-scripts
  #     dockerfile: Dockerfile
  #   container_name: provisioner-ms
  #   environment:
  #     eureka.instance.hostname: 172.16.238.2
  #     ribbon.listOfServers: 172.16.238.2:9090
  #     eureka.client.serviceUrl.defaultZone: http://172.16.238.2:8761/eureka
  #     activemq.brokerUrl: tcp://172.16.238.3:61616
  #     cassandra.contactPoints: 172.16.238.5:9042
  #     mariadb.host: 172.16.238.4
  #   networks:
  #     default:
  #       ipv4_address: 172.16.238.6
  identity-ms:
    build:
      context: ./identity-ms-scripts
      dockerfile: Dockerfile
    container_name: identity-ms
    environment:
      eureka.instance.hostname: 172.16.238.2
      ribbon.listOfServers: 172.16.238.2:9090
      eureka.client.serviceUrl.defaultZone: http://172.16.238.2:8761/eureka
      activemq.brokerUrl: tcp://172.16.238.3:61616
      cassandra.contactPoints: 172.16.238.5:9042
      mariadb.host: 172.16.238.4
      system.publicKey.timestamp: 2018-10-12T19_32_32
      system.publicKey.modulus: 17203262249066827729392478891421087246553212063112215907013157574202828082038064375574350863415103181503699672459033591132850879346548145221559918478789226132106707402546494096963676715595368124775568896166302611989301740797473767038378240225131235109128454937639154861957274805468069472164827356444716915995407880917778575928439689651784174853538546184851434306749342228332179734426752591964173460445732666059927949107246761235392830351611976616513499219981168004111071324609241157026376720431170567021079526064161096782979018569668365430118472043890508085668334551050724752035154334917131961502507952797639169129261
      system.publicKey.exponent: 65537
    networks:
      default:
        ipv4_address: 172.16.238.7
  rhythm-ms:
    build:
      context: ./rhythm-ms-scripts
      dockerfile: Dockerfile
    container_name: rhythm-ms
    environment:
      eureka.instance.hostname: 172.16.238.2
      ribbon.listOfServers: 172.16.238.2:9090
      eureka.client.serviceUrl.defaultZone: http://172.16.238.2:8761/eureka
      activemq.brokerUrl: tcp://172.16.238.3:61616
      cassandra.contactPoints: 172.16.238.5:9042
      mariadb.host: 172.16.238.4
      system.publicKey.timestamp: 2018-10-12T19_32_32
      system.publicKey.modulus: 17203262249066827729392478891421087246553212063112215907013157574202828082038064375574350863415103181503699672459033591132850879346548145221559918478789226132106707402546494096963676715595368124775568896166302611989301740797473767038378240225131235109128454937639154861957274805468069472164827356444716915995407880917778575928439689651784174853538546184851434306749342228332179734426752591964173460445732666059927949107246761235392830351611976616513499219981168004111071324609241157026376720431170567021079526064161096782979018569668365430118472043890508085668334551050724752035154334917131961502507952797639169129261
      system.publicKey.exponent: 65537
    networks:
      default:
        ipv4_address: 172.16.238.8
  # office-ms:
  #   build:
  #     context: ./office-ms-scripts
  #     dockerfile: Dockerfile
  #   container_name: office-ms
  #   environment:
  #     eureka.instance.hostname: 172.16.238.2
  #     ribbon.listOfServers: 172.16.238.2:9090
  #     eureka.client.serviceUrl.defaultZone: http://172.16.238.2:8761/eureka
  #     activemq.brokerUrl: tcp://172.16.238.3:61616
  #     cassandra.contactPoints: 172.16.238.5:9042
  #     mariadb.host: 172.16.238.4
  #     system.publicKey.timestamp: 2018-10-12T19_32_32
  #     system.publicKey.modulus: 17203262249066827729392478891421087246553212063112215907013157574202828082038064375574350863415103181503699672459033591132850879346548145221559918478789226132106707402546494096963676715595368124775568896166302611989301740797473767038378240225131235109128454937639154861957274805468069472164827356444716915995407880917778575928439689651784174853538546184851434306749342228332179734426752591964173460445732666059927949107246761235392830351611976616513499219981168004111071324609241157026376720431170567021079526064161096782979018569668365430118472043890508085668334551050724752035154334917131961502507952797639169129261
  #     system.publicKey.exponent: 65537
  #   networks:
  #     default:
  #       ipv4_address: 172.16.238.9
  # customer-ms:
  #   build:
  #     context: ./customer-ms-scripts
  #     dockerfile: Dockerfile
  #   container_name: customer-ms
  #   environment:
  #     eureka.instance.hostname: 172.16.238.2
  #     ribbon.listOfServers: 172.16.238.2:9090
  #     eureka.client.serviceUrl.defaultZone: http://172.16.238.2:8761/eureka
  #     activemq.brokerUrl: tcp://172.16.238.3:61616
  #     cassandra.contactPoints: 172.16.238.5:9042
  #     mariadb.host: 172.16.238.4
  #     system.publicKey.timestamp: 2018-10-12T18_47_56
  #     system.publicKey.modulus: 20344706798946432467437412816825175866606016449662118242905306317306990964954539350103862665626504687102170687265256681753570180416984556250474820781092700968449286969732617599241704254817465154350849446909780895077185903858263097737795349947469146083144423982113345078962323200971802524696950701307132445772407764990138547650663012392607078032895326722511350513307851423225755319975773995332588796836094249567832789128459308270646261721516505487980600910839369950516548341675454302215451244556193699214972742277724371392330100015046830334699450319822286074745412430820941262017893830674362279148907936327689547965099
  #     system.publicKey.exponent: 65537
  #   networks:
  #     default:
  #       ipv4_address: 172.16.238.10
  # ledger-ms:
  #   build:
  #     context: ./accounting-ms-scripts
  #     dockerfile: Dockerfile
  #   container_name: ledger-ms
  #   environment:
  #     eureka.instance.hostname: 172.16.238.2
  #     ribbon.listOfServers: 172.16.238.2:9090
  #     eureka.client.serviceUrl.defaultZone: http://172.16.238.2:8761/eureka
  #     activemq.brokerUrl: tcp://172.16.238.3:61616
  #     cassandra.contactPoints: 172.16.238.5:9042
  #     mariadb.host: 172.16.238.4
  #   networks:
  #     default:
  #       ipv4_address: 172.16.238.11
  portfolio-ms:
    build:
      context: ./portfolio-ms-scripts
      dockerfile: Dockerfile
    container_name: portfolio-ms
    environment:
      eureka.instance.hostname: 172.16.238.2
      ribbon.listOfServers: 172.16.238.2:9090
      eureka.client.serviceUrl.defaultZone: http://172.16.238.2:8761/eureka
      activemq.brokerUrl: tcp://172.16.238.3:61616
      cassandra.contactPoints: 172.16.238.5:9042
      mariadb.host: 172.16.238.4
      system.publicKey.timestamp: 2018-10-12T19_32_32
      system.publicKey.modulus: 17203262249066827729392478891421087246553212063112215907013157574202828082038064375574350863415103181503699672459033591132850879346548145221559918478789226132106707402546494096963676715595368124775568896166302611989301740797473767038378240225131235109128454937639154861957274805468069472164827356444716915995407880917778575928439689651784174853538546184851434306749342228332179734426752591964173460445732666059927949107246761235392830351611976616513499219981168004111071324609241157026376720431170567021079526064161096782979018569668365430118472043890508085668334551050724752035154334917131961502507952797639169129261
      system.publicKey.exponent: 65537
    networks:
      default:
        ipv4_address: 172.16.238.12
  # deposit-account-management-ms:
  #   build:
  #     context: ./deposit-account-management-ms-scripts
  #     dockerfile: Dockerfile
  #   container_name: deposit-ms
  #   environment:
  #     eureka.instance.hostname: 172.16.238.2
  #     ribbon.listOfServers: 172.16.238.2:9090
  #     eureka.client.serviceUrl.defaultZone: http://172.16.238.2:8761/eureka
  #     activemq.brokerUrl: tcp://172.16.238.3:61616
  #     cassandra.contactPoints: 172.16.238.5:9042
  #     mariadb.host: 172.16.238.4
  #     system.publicKey.timestamp: 2018-10-12T18_47_56
  #     system.publicKey.modulus: 20344706798946432467437412816825175866606016449662118242905306317306990964954539350103862665626504687102170687265256681753570180416984556250474820781092700968449286969732617599241704254817465154350849446909780895077185903858263097737795349947469146083144423982113345078962323200971802524696950701307132445772407764990138547650663012392607078032895326722511350513307851423225755319975773995332588796836094249567832789128459308270646261721516505487980600910839369950516548341675454302215451244556193699214972742277724371392330100015046830334699450319822286074745412430820941262017893830674362279148907936327689547965099
  #     system.publicKey.exponent: 65537
  #   networks:
  #     default:
  #       ipv4_address: 172.16.238.13
  # teller-ms:
  #   build:
  #     context: ./teller-ms-scripts
  #     dockerfile: Dockerfile
  #   container_name: teller-ms
  #   environment:
  #     eureka.instance.hostname: 172.16.238.2
  #     ribbon.listOfServers: 172.16.238.2:9090
  #     eureka.client.serviceUrl.defaultZone: http://172.16.238.2:8761/eureka
  #     activemq.brokerUrl: tcp://172.16.238.3:61616
  #     cassandra.contactPoints: 172.16.238.5:9042
  #     mariadb.host: 172.16.238.4
  #     system.publicKey.timestamp: 2018-10-12T18_47_56
  #     system.publicKey.modulus: 20344706798946432467437412816825175866606016449662118242905306317306990964954539350103862665626504687102170687265256681753570180416984556250474820781092700968449286969732617599241704254817465154350849446909780895077185903858263097737795349947469146083144423982113345078962323200971802524696950701307132445772407764990138547650663012392607078032895326722511350513307851423225755319975773995332588796836094249567832789128459308270646261721516505487980600910839369950516548341675454302215451244556193699214972742277724371392330100015046830334699450319822286074745412430820941262017893830674362279148907936327689547965099
  #     system.publicKey.exponent: 65537
  #   networks:
  #     default:
  #       ipv4_address: 172.16.238.14
  # report-ms:
  #   build:
  #     context: ./reporting-ms-scripts
  #     dockerfile: Dockerfile
  #   container_name: report-ms
  #   environment:
  #     eureka.instance.hostname: 172.16.238.2
  #     ribbon.listOfServers: 172.16.238.2:9090
  #     eureka.client.serviceUrl.defaultZone: http://172.16.238.2:8761/eureka
  #     activemq.brokerUrl: tcp://172.16.238.3:61616
  #     cassandra.contactPoints: 172.16.238.5:9042
  #     mariadb.host: 172.16.238.4
  #     system.publicKey.timestamp: 2018-10-12T18_47_56
  #     system.publicKey.modulus: 20344706798946432467437412816825175866606016449662118242905306317306990964954539350103862665626504687102170687265256681753570180416984556250474820781092700968449286969732617599241704254817465154350849446909780895077185903858263097737795349947469146083144423982113345078962323200971802524696950701307132445772407764990138547650663012392607078032895326722511350513307851423225755319975773995332588796836094249567832789128459308270646261721516505487980600910839369950516548341675454302215451244556193699214972742277724371392330100015046830334699450319822286074745412430820941262017893830674362279148907936327689547965099
  #     system.publicKey.exponent: 65537
  #   networks:
  #     default:
  #       ipv4_address: 172.16.238.15
  # payroll-ms:
  #   build:
  #     context: ./payroll-ms-scripts
  #     dockerfile: Dockerfile
  #   container_name: payroll-ms
  #   environment:
  #     eureka.instance.hostname: 172.16.238.2
  #     ribbon.listOfServers: 172.16.238.2:9090
  #     eureka.client.serviceUrl.defaultZone: http://172.16.238.2:8761/eureka
  #     activemq.brokerUrl: tcp://172.16.238.3:61616
  #     cassandra.contactPoints: 172.16.238.5:9042
  #     mariadb.host: 172.16.238.4
  #     system.publicKey.timestamp: 2018-10-12T18_47_56
  #     system.publicKey.modulus: 20344706798946432467437412816825175866606016449662118242905306317306990964954539350103862665626504687102170687265256681753570180416984556250474820781092700968449286969732617599241704254817465154350849446909780895077185903858263097737795349947469146083144423982113345078962323200971802524696950701307132445772407764990138547650663012392607078032895326722511350513307851423225755319975773995332588796836094249567832789128459308270646261721516505487980600910839369950516548341675454302215451244556193699214972742277724371392330100015046830334699450319822286074745412430820941262017893830674362279148907936327689547965099
  #     system.publicKey.exponent: 65537
  #   networks:
  #     default:
  #       ipv4_address: 172.16.238.16

networks:
  default:
    external:
      name: externaltools_app_net
